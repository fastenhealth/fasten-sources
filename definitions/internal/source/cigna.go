// Copyright (C) Fasten Health, Inc. - All Rights Reserved.
//
// THIS FILE IS GENERATED BY https://github.com/fastenhealth/fasten-sources-gen
// PLEASE DO NOT EDIT BY HAND

package source

import (
	models "github.com/fastenhealth/fasten-sources/definitions/models"
	pkg "github.com/fastenhealth/fasten-sources/pkg"
)

// https://r-hi2.cigna.com/.well-known/smart-configuration
/*
https://developer.cigna.com/service-apis/patient-access/sandbox#How-to-Use-the-Sandbox-Sandbox-Test-Users
*/
func GetSourceCigna(env pkg.FastenLighthouseEnvType, clientIdLookup map[pkg.SourceType]string) (models.LighthouseSourceDefinition, error) {
	sourceDef := models.LighthouseSourceDefinition{}
	sourceDef.AuthorizationEndpoint = "https://r-hi2.cigna.com/mga/sps/oauth/oauth20/authorize"
	sourceDef.TokenEndpoint = "https://r-hi2.cigna.com/mga/sps/oauth/oauth20/token"
	sourceDef.IntrospectionEndpoint = "https://r-hi2.cigna.com/mga/sps/oauth/oauth20/introspect"

	sourceDef.Issuer = "https://r-hi2.cigna.com"
	sourceDef.Scopes = []string{"fhirUser", "offline_access", "openid", "patient/*.read"}
	sourceDef.GrantTypesSupported = []string{"authorization_code"}
	sourceDef.ResponseType = []string{"code"}
	sourceDef.ResponseModesSupported = []string{"fragment", "query"}
	sourceDef.CodeChallengeMethodsSupported = []string{"S256"}

	sourceDef.ApiEndpointBaseUrl = "https://p-hi2.digitaledge.cigna.com/PatientAccess/v1-devportal"
	// retrieve client-id, if available
	if clientId, clientIdOk := clientIdLookup[pkg.SourceTypeCigna]; clientIdOk {
		sourceDef.ClientId = clientId
	}
	sourceDef.RedirectUri = pkg.GetCallbackEndpoint(string(pkg.SourceTypeCigna))

	sourceDef.Display = "Cigna"
	sourceDef.PlatformType = pkg.SourceTypeCigna
	sourceDef.SourceType = pkg.SourceTypeCigna
	sourceDef.Aliases = []string{"CIGNA HEALTH CARE OF ARIZONA INC", "CIGNA HEALTHCARE OF ARIZONA", "CIGNA HEALTHCARE OF AZ", "CIGNA HEALTHCARE OF NORTH CAROLINA, INC.", "CIGNA HEALTHCAREOF AZ, INC.", "CIGNA HOME DELIVERY PHARMACY", "CIGNA HOSPICE CARE INC", "CIGNA MEDICAL GROUP", "CIGNA ORTHODONTICS PC", "CIGNA TEL DRUG"}
	sourceDef.Identifiers = map[string][]string{"http://hl7.org/fhir/sid/us-npi": []string{"1528050572", "1407848468", "1619969680", "1013909969", "1285876326", "1528139953", "1437141405", "1013909076", "1821690058", "1265544191", "1467564302", "1083606057", "1609868678", "1497747455", "1992797930", "1902918832", "1306838354", "1447242417", "1104155621", "1285626234", "1366434326", "1629060686", "1619083441", "1548383888", "1245338235", "1649341298", "1396816013", "1689745333", "1225109879", "1275604605", "1144391574", "1134290786", "1942371679", "1952472672", "1750450987", "1033280698", "1619048048", "1356445365", "1467531681", "1942371505", "1770654105", "1508937236", "1437220860", "1528200672", "1861571093", "1902159346", "1144450511", "1508096975", "1831425990", "1326337221", "1518415397", "1073626404", "1760718621", "1336464445", "1265536270", "1043471873", "1952548315", "1588804280", "1801190723", "1730417676", "1184977563", "1275887028", "1750535506", "1184978934", "1821397787", "1881915502", "1053427880", "1073627162", "1790950988", "1891245569", "1932850922", "1053521245", "1790163624", "1467942938", "1275135949", "1023113271", "1003270596", "1922162031", "1740400753", "1457571457"}}

	return sourceDef, nil
}
