// Copyright (C) Fasten Health, Inc. - All Rights Reserved.
//
// THIS FILE IS GENERATED BY https://github.com/fastenhealth/fasten-sources-gen
// PLEASE DO NOT EDIT BY HAND

package source

import (
	platform "github.com/fastenhealth/fasten-sources/definitions/internal/platform"
	models "github.com/fastenhealth/fasten-sources/definitions/models"
	pkg "github.com/fastenhealth/fasten-sources/pkg"
)

// https://webproxy.allina.com/FHIR/api/FHIR/R4/metadata
func GetSourceAllinaHealthSystem(env pkg.FastenLighthouseEnvType, clientIdLookup map[pkg.SourceType]string) (models.LighthouseSourceDefinition, error) {
	sourceDef, err := platform.GetSourceEpic(env, clientIdLookup)
	sourceDef.AuthorizationEndpoint = "https://webproxy.allina.com/FHIR/oauth2/authorize"
	sourceDef.TokenEndpoint = "https://webproxy.allina.com/FHIR/oauth2/token"
	sourceDef.RegistrationEndpoint = "https://webproxy.allina.com/FHIR/oauth2/register"

	sourceDef.Audience = "https://webproxy.allina.com/FHIR/api/FHIR/R4"

	sourceDef.ApiEndpointBaseUrl = "https://webproxy.allina.com/FHIR/api/FHIR/R4"
	// retrieve client-id, if available
	if clientId, clientIdOk := clientIdLookup[pkg.SourceTypeAllinaHealthSystem]; clientIdOk {
		sourceDef.ClientId = clientId
	}
	sourceDef.RedirectUri = pkg.GetCallbackEndpoint(string(pkg.SourceTypeEpic))

	sourceDef.Display = "Allina Health System"
	sourceDef.SourceType = pkg.SourceTypeAllinaHealthSystem
	sourceDef.Category = []string{"207Q00000X", "207W00000X", "261Q00000X", "261QU0200X", "273R00000X", "283Q00000X", "314000000X", "3336C0002X", "3336C0003X"}
	sourceDef.Aliases = []string{"ALLINA HEALTH CHASKA CLINIC", "ALLINA HEALTH FOREST LAKE CLINIC", "ALLINA HEALTH ISLES CLINIC", "ALLINA HEALTH RICHFIELD CLINIC", "ALLINA HEALTH UNITED FAMILY PHYSICIANS", "ALLINA HEALTH URGENT CARE SAVAGE", "ALLINA HEALTH WOODBURY PHARMACY", "CAMBRIDGE MEDICAL CENTER", "COURAGE KENNY REHABILITATION INSTITUTE'S TRANSITIONAL REHAB PROGRAM", "PHILLIPS EYE INSTITUTE PROFESSIONAL SERVICES"}
	sourceDef.Identifiers = map[string][]string{"http://hl7.org/fhir/sid/us-npi": []string{"1104122555", "1104880384", "1104881911", "1174567184", "1245579713", "1306142054", "1346842051", "1376127332", "1386940005", "1447556261"}}
	sourceDef.SecretKeyPrefix = "epic"

	return sourceDef, err
}
