// Copyright (C) Fasten Health, Inc. - All Rights Reserved.
//
// THIS FILE IS GENERATED BY https://github.com/fastenhealth/fasten-sources-gen
// PLEASE DO NOT EDIT BY HAND

package source

import (
	platform "github.com/fastenhealth/fasten-sources/definitions/internal/platform"
	models "github.com/fastenhealth/fasten-sources/definitions/models"
	pkg "github.com/fastenhealth/fasten-sources/pkg"
)

// https://api.platform.athenahealth.com/fhir/r4/metadata
func GetSourceCapstoneHealth(env pkg.FastenLighthouseEnvType, clientIdLookup map[pkg.SourceType]string) (models.LighthouseSourceDefinition, error) {
	sourceDef, err := platform.GetSourceAthena(env, clientIdLookup)
	sourceDef.AuthorizationEndpoint = "https://api.platform.athenahealth.com/oauth2/v1/authorize"
	sourceDef.TokenEndpoint = "https://api.platform.athenahealth.com/oauth2/v1/token"

	sourceDef.Audience = "https://api.platform.athenahealth.com/fhir/r4"

	sourceDef.ApiEndpointBaseUrl = "https://api.platform.athenahealth.com/fhir/r4"
	// retrieve client-id, if available
	if clientId, clientIdOk := clientIdLookup[pkg.SourceTypeCapstoneHealth]; clientIdOk {
		sourceDef.ClientId = clientId
	}
	sourceDef.RedirectUri = pkg.GetCallbackEndpoint(string(pkg.SourceTypeAthena))

	sourceDef.Display = "Capstone Health"
	sourceDef.SourceType = pkg.SourceTypeCapstoneHealth
	sourceDef.Category = []string{"122300000X", "207Q00000X", "251F00000X", "261QF0400X", "261QM0850X", "261QM0855X", "332B00000X", "332BP3500X", "3336C0003X", "3336H0001X"}
	sourceDef.Aliases = []string{"CAPSTONE COTTAGE", "CAPSTONE DENTAL", "CAPSTONE DOUBLE SPRINGS", "CAPSTONE NAUVOO", "CAPSTONE PHARMACY AT PARRISH", "CAPSTONE RURAL HEALTH CENTER", "CAPSTONE SUMMIT", "CAPSTONE VIKING HEALTH", "CAPSTONE VITAL CARE", "CAPSTONE WEST JASPER", "CAPSTONE WEST JASPER PHARMACY", "SUMMIT PHARMACY"}
	sourceDef.Identifiers = map[string][]string{"http://hl7.org/fhir/sid/us-npi": []string{"1043872732", "1093349953", "1245883578", "1417566993", "1508405069", "1528670452", "1700499076", "1770156077", "1811580855", "1821043837"}}
	sourceDef.SecretKeyPrefix = "athena"

	return sourceDef, err
}
