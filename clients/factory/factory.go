// Copyright (C) Fasten Health, Inc. - All Rights Reserved.
//
// THIS FILE IS GENERATED BY https://github.com/fastenhealth/fasten-sources-gen
// PLEASE DO NOT EDIT BY HAND

package factory

import (
	"context"
	"github.com/fastenhealth/fasten-sources/clients/internal"
	fasten "github.com/fastenhealth/fasten-sources/clients/internal/fasten"
	manual "github.com/fastenhealth/fasten-sources/clients/internal/manual"
	models "github.com/fastenhealth/fasten-sources/clients/models"
	pkg "github.com/fastenhealth/fasten-sources/pkg"
	logrus "github.com/sirupsen/logrus"
	"net/http"
)

func GetSourceClient(
	env pkg.FastenLighthouseEnvType,
	ctx context.Context,
	globalLogger logrus.FieldLogger,
	sourceCreds models.SourceCredential,
	testHttpClient ...*http.Client,
) (models.SourceClient, error) {

	switch sourceCreds.GetPlatformType() {
	case pkg.PlatformTypeManual:
		return manual.GetSourceClientManual(env, ctx, globalLogger, sourceCreds, testHttpClient...)
	case pkg.PlatformTypeFasten:
		return fasten.GetSourceClientFasten(env, ctx, globalLogger, sourceCreds, testHttpClient...)
	default:
		return internal.GetDynamicSourceClient(env, ctx, globalLogger, sourceCreds, testHttpClient...)
	}
}
